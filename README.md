# Code in the Dark — Teaser Site

Interactive teaser website for upcoming “Code in the Dark” events. The site simulates a dimly lit desk with a retro CRT monitor you can power on to reveal a message and link for securing a spot. Built with Nuxt 4 and Vue 3 using modern CSS primitives, subtle audio, and lightweight client‑side interactions.

## Tech Stack

- Nuxt 4 (Vue 3, Vite)
- Vue SFCs with `<script setup lang="ts">`
- PostCSS with `open-props` and `postcss-jit-props`
- `@vueuse/nuxt` utilities and `@vueuse/sound` for audio
- Static assets served from `public/`

## Features

- Flashlight spotlight that follows the pointer/touch across the scene.
- 3D‑styled desk/table and a C64‑inspired monitor bezel.
- Power button toggles CRT “on” sequence with scanlines and glow.
- Typewriter effect prints the teaser message, ending with a signup link.
- Ambient static and keyboard click sounds (gesture‑unlocked on mobile).
- Mobile friendly: viewport is fixed (no pinch/double‑tap zoom), pointer follows touch.

## Getting Started

Prereqs: Node 18+ and your preferred package manager. `pnpm` is recommended.

```bash
# install deps
pnpm install

# run dev server (http://localhost:3000)
pnpm dev

# build production
pnpm build

# preview production build locally
pnpm preview

# generate a fully static site (optional)
pnpm generate
```

## Project Structure

```
app/
  app.vue                # Entry UI (Nuxt)
  assets/
    css/main.css         # Global styles (Open Props, base layout)
    fonts/               # Local fonts (Press Start)
  components/
    Computer.vue         # CRT monitor + typewriter + sounds
    Overlay.vue          # Flashlight/darkness overlay (pointer driven)
    Table.vue            # Table surface with perspective
    Phone.vue            # Decorative phone (currently unused)
public/
  assets/{audio,images}  # Static assets served at /assets
nuxt.config.ts           # Nuxt config (PostCSS, modules, viewport meta)
```

Notes:
- Do not edit files in `.nuxt/`; they are generated by Nuxt.
- Static assets placed under `public/` are available at `/assets/...`.

## Key Implementation Details

### Scene and Overlay
- The scene root is defined in `app/app.vue`, composing `Table`, `Computer`, and `Overlay` on a single grid layer.
- `Overlay.vue` computes spotlight translation from `useMouse()` and centers it with `useWindowSize()`; a radial‑gradient forms the darkness mask.
- Mobile interaction uses touch events; zoom is disabled to keep the experience focused.

### CRT and Typewriter
- `Computer.vue` renders the monitor, screen content, and a power button. Turning on the monitor triggers a delayed typewriter sequence.
- The final text includes a link (see `replaceTextWithLink()`), currently pointing to the Malmö event. Adjust as needed per event.
- Sounds are played via `@vueuse/sound` using MP3s in `public/assets/audio`.

### Styling
- `app/assets/css/main.css` imports Open Props presets and normalizations.
- Global cursor and background textures are applied; the table uses perspective transforms for depth.
- Viewport is locked on mobile using meta viewport and `touch-action: manipulation` to avoid accidental zoom.

## Configuration & Customization

### Update Event Messaging
- Edit the announcement text and link in `app/components/Computer.vue`:
  - `textToWrite`: The full teaser line.
  - `linkText`: The clickable portion to be replaced with an anchor tag.
  - Update the URL inside `replaceTextWithLink()` for each new event.

### Replace Assets
- Images: Put new textures or device images under `public/assets/images/` and update component CSS URLs accordingly.
- Audio: Replace files under `public/assets/audio/` (keep file names or update paths in `Computer.vue`).
- Fonts: Put additional fonts under `app/assets/fonts/` and reference them in `main.css`.

### SEO & Head
- Basic meta is configured in `nuxt.config.ts` under `app.head`.
- Add per‑page meta tags using Nuxt’s useHead() if you introduce routed pages.

### Environment & Secrets
- This site does not require secrets. If you later need runtime config, use `runtimeConfig` in `nuxt.config.ts` and `.env` files (never commit secrets).

## Accessibility

- Power button is a focusable control in both the Nuxt app and the standalone prototype.
- Typewriter caret uses animation; reduced‑motion users should still see readable content. Consider honoring `prefers-reduced-motion` in the Nuxt components if you extend animations.
- Mobile zoom is disabled to prioritize the intended “spotlight” experience. If you need to re‑enable zoom for accessibility, edit the viewport meta in `nuxt.config.ts`, and remove `touch-action: manipulation` in CSS.

## Deployment

Choose one of the following approaches:

- Static hosting (recommended):
  - `pnpm generate` → deploy the generated `dist/` to any static host (Netlify, Vercel static, S3, etc.).
- Node hosting:
  - `pnpm build` then run with the Nuxt server adapter of your choice.
- Standalone prototype:

## Troubleshooting

- Audio doesn’t play on mobile: browsers require a user gesture; click/tap the power button first.
- Assets not loading: verify paths (prefer absolute `/assets/...` when referencing files in templates/markup).
- Too dark/bright: adjust overlay gradients in `Overlay.vue` or table/screen shadows in component CSS.

## Contributing

- Prefer small, focused changes and follow Nuxt conventions.
- Keep dependencies minimal and avoid editing `.nuxt/`.
- Use concise, present‑tense commits (Conventional Commits preferred).

## Roadmap / Ideas

- Add countdown to event start.
- Add multiple event variants (city/date) via runtime config.
- Optional PWA install banner for mobile kiosks.
- Integrate analytics (privacy‑friendly) to track engagement.

---

Internal project. For questions or handoff, see AGENTS.md and `nuxt.config.ts` for integration details.
